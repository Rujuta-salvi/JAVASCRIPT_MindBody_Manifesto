<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MindBody - User Profile</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:"Poppins", Arial, sans-serif; }
    body { background: linear-gradient(135deg, #f0f4f7, #dfe9f3); color:#2c3e50; }
    .container { display:flex; min-height:100vh; }
    .sidebar { background:#2c3e50; color:#fff; width:220px; padding:20px; transition:all 0.3s ease; }
    .sidebar h2 { text-align:center; margin-bottom:30px; font-size:1.4rem; letter-spacing:1px; }
    .sidebar ul { list-style:none; }
    .sidebar ul li { margin:15px 0; }
    .sidebar ul li a { color:#fff; text-decoration:none; padding:10px; display:block; border-radius:5px; font-weight:bold; transition:background 0.3s ease; }
    .sidebar ul li a:hover { background:#34495e; }
    .main-content { flex-grow:1; padding:40px; display:flex; flex-direction:column; align-items:center; text-align:center; }
    .card { background:#fff; padding:25px 35px; border-radius:15px; box-shadow:0 4px 10px rgba(0,0,0,0.1); margin:20px 0; width:90%; max-width:600px; }
    input, select { padding:10px; margin:8px 0; width:90%; border-radius:5px; border:1px solid #ccc; }
    button { padding:10px 20px; margin-top:15px; border:none; border-radius:5px; background:#1fa58b; color:#fff; font-weight:bold; cursor:pointer; transition:0.3s; }
    button:hover { background:#178c6f; }
    @media(max-width:768px){ .container{ flex-direction:column; } .sidebar{ width:100%; display:flex; overflow-x:auto; padding:10px; } .sidebar ul{ display:flex; justify-content:space-around; width:100%; } .sidebar ul li{ margin:0 10px; } .main-content{ padding:20px; } }
    footer { 
  text-align: center; 
  padding: 20px; 
  background: #2c3e50; 
  color: #fff; 
  margin-top: 50px; 
}

  </style>
</head>
<body>
  <div class="container">
    <nav class="sidebar">
      <h2>MindBody</h2>
      <ul>
        <li><a href="home1.html">Home</a></li>
        <li><a href="explore.html">Explore</a></li>
        <li><a href="activity2.html">Activity</a></li>
        <li><a href="meal.html">Food Plan</a></li>
        <li><a href="exercise.html">Exercise</a></li>
        <li><a href="track.html">Track</a></li>
        <li><a href="#">User Profile</a></li>
      </ul>
    </nav>

    <main class="main-content">
      <h1>User Profile</h1>
      <div id="root"></div>
    </main>
  </div>
<!-- End of main container -->
</div> <!-- .container -->

<!-- Footer -->
<footer>
  <p>© 2025 MindBody — All Rights Reserved</p>
</footer>

  <!-- React Libraries -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState, useEffect } = React;

    function UserProfile() {
      const [name, setName] = useState("");
      const [age, setAge] = useState("");
      const [weight, setWeight] = useState("");
      const [height, setHeight] = useState("");
      const [plan, setPlan] = useState("Beginner");
      const [goal, setGoal] = useState("Maintain");
      const [bmi, setBmi] = useState(null);
      const [message, setMessage] = useState("");

      // Load from localStorage
      useEffect(() => {
        const savedData = JSON.parse(localStorage.getItem("userProfile"));
        if (savedData) {
          setName(savedData.name || "");
          setAge(savedData.age || "");
          setWeight(savedData.weight || "");
          setHeight(savedData.height || "");
          setPlan(savedData.plan || "Beginner");
          setGoal(savedData.goal || "Maintain");
        }
      }, []);

      // Calculate BMI
      useEffect(() => {
        if(weight && height){
          const h = parseFloat(height)/100;
          const w = parseFloat(weight);
          const bmiCalc = (w/(h*h)).toFixed(1);
          setBmi(bmiCalc);
        } else {
          setBmi(null);
        }
      }, [weight,height]);

      const saveProfile = () => {
        if(!name || !age || !weight || !height){
          setMessage("Please fill all required fields!");
          return;
        }
        const profile = { name, age, weight, height, plan, goal, bmi };
        localStorage.setItem("userProfile", JSON.stringify(profile));
        setMessage("✅ Profile saved successfully!");
      };

      return (
        <div className="card">
          <input type="text" placeholder="Name" value={name} onChange={e=>setName(e.target.value)} />
          <input type="number" placeholder="Age" value={age} onChange={e=>setAge(e.target.value)} />
          <input type="number" placeholder="Weight (kg)" value={weight} onChange={e=>setWeight(e.target.value)} />
          <input type="number" placeholder="Height (cm)" value={height} onChange={e=>setHeight(e.target.value)} />
          <select value={plan} onChange={e=>setPlan(e.target.value)}>
            <option>Beginner</option>
            <option>Intermediate</option>
            <option>Advanced</option>
          </select>
          <select value={goal} onChange={e=>setGoal(e.target.value)}>
            <option>Maintain</option>
            <option>Lose</option>
            <option>Gain</option>
          </select>
          {bmi && <p>Your BMI: <strong>{bmi}</strong></p>}
          <button onClick={saveProfile}>Save Profile</button>
          <p style={{marginTop:"15px",color:"#555"}}>{message}</p>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<UserProfile />);
  </script>
</body>
</html>
